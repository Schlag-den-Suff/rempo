<div class="create-game-container">
  <div class="card-container">
    <mat-card class="create-game-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>add_circle</mat-icon>
          Neues Spiel erstellen
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <form [formGroup]="createGameForm" class="create-game-form">
          <!-- Game Name -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Spielname</mat-label>
            <input
              matInput
              formControlName="game_name"
              placeholder="Geben Sie einen Namen für Ihr Spiel ein"
              required>
            <mat-icon matPrefix>games</mat-icon>
            <mat-error *ngIf="createGameForm.get('game_name')?.hasError('required')">
              Spielname ist erforderlich
            </mat-error>
            <mat-error *ngIf="createGameForm.get('game_name')?.hasError('minlength')">
              Spielname muss mindestens 3 Zeichen lang sein
            </mat-error>
          </mat-form-field>

          <!-- Game Type -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Spieltyp</mat-label>
            <mat-select formControlName="type" required>
              <mat-option value="Quiz">Quiz</mat-option>
              <mat-option value="Trivia">Trivia</mat-option>
              <mat-option value="Challenge">Challenge</mat-option>
            </mat-select>
            <mat-icon matPrefix>category</mat-icon>
          </mat-form-field>

          <!-- Settings Section -->
          <div class="settings-section">
            <h3 class="section-title">
              <mat-icon>settings</mat-icon>
              Spieleinstellungen
            </h3>

            <!-- Questions Per Player -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Fragen pro Spieler</mat-label>
              <input
                matInput
                type="number"
                formControlName="questionsPerPlayer"
                min="1"
                max="50"
                required>
              <mat-icon matPrefix>help_outline</mat-icon>
              <mat-hint>Anzahl der Fragen, die jeder Spieler beantworten muss (1-50)</mat-hint>
              <mat-error *ngIf="createGameForm.get('questionsPerPlayer')?.hasError('required')">
                Anzahl der Fragen ist erforderlich
              </mat-error>
              <mat-error *ngIf="createGameForm.get('questionsPerPlayer')?.hasError('min')">
                Mindestens 1 Frage erforderlich
              </mat-error>
              <mat-error *ngIf="createGameForm.get('questionsPerPlayer')?.hasError('max')">
                Maximum 50 Fragen erlaubt
              </mat-error>
            </mat-form-field>

            <!-- Time Limit -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Zeitlimit (Minuten)</mat-label>
              <input
                matInput
                type="number"
                formControlName="timeLimit"
                min="1"
                max="180"
                placeholder="Optional">
              <mat-icon matPrefix>timer</mat-icon>
              <mat-hint>Gesamtzeit für das Spiel in Minuten (optional, 1-180)</mat-hint>
            </mat-form-field>

            <!-- Allow Hints Checkbox -->
            <div class="checkbox-field">
              <mat-checkbox formControlName="allowHints">
                <div class="checkbox-content">
                  <mat-icon>lightbulb</mat-icon>
                  <span>Hinweise erlauben</span>
                </div>
              </mat-checkbox>
              <p class="checkbox-hint">Spieler können während des Spiels Hinweise nutzen</p>
            </div>

            <!-- Randomize Questions Checkbox -->
            <div class="checkbox-field">
              <mat-checkbox formControlName="randomizeQuestions">
                <div class="checkbox-content">
                  <mat-icon>shuffle</mat-icon>
                  <span>Fragen zufällig mischen</span>
                </div>
              </mat-checkbox>
              <p class="checkbox-hint">Fragen werden für jeden Spieler in zufälliger Reihenfolge angezeigt</p>
            </div>
          </div>
        </form>
      </mat-card-content>

      <mat-card-actions class="card-actions">
        <button mat-button (click)="onCancel()" class="cancel-button">
          <mat-icon>close</mat-icon>
          Abbrechen
        </button>
        <button
          mat-raised-button
          color="primary"
          (click)="onCreateGame()"
          [disabled]="createGameForm.invalid"
          class="create-button">
          <mat-icon>add</mat-icon>
          Spiel erstellen
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
